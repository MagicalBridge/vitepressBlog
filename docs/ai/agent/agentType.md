# 什么是 Agent Type：按“决策方式与运行形态”给智能体分类

你说的没错：**ReAct** 通常被归为一种“反应式（reactive）”的 agent type。这里的 **agent type** 不是指某个具体框架或模型型号，而是一个更工程化的概念：**用一组稳定的设计维度，描述一个 Agent 如何做决策、如何组织步骤、如何执行工具、如何维护状态**。

换句话说，agent type 关注的是“行为范式”，而不是“组件清单”。组件回答“有什么”，类型回答“怎么跑”。

## 1. Agent Type 到底在描述什么

一个 Agent 系统落地时，你总会遇到这些问题：

- 它是先出全局计划，还是边做边想？
- 它每一步是靠模型自由发挥，还是走固定流程？
- 它如何使用工具：一次调用就结束，还是多轮迭代直到完成？
- 它的状态如何维护：会话内、跨会话，还是可恢复的任务状态机？
- 它需要多安全：哪些动作必须确认/审批？

这些差异组合起来，就是不同的 agent type。你也可以把 agent type 理解为 Agent Loop 的“运行策略”。

## 2. 关键分类维度（建议记住这 5 个）

为了避免“类型越列越多”，可以先用维度来理解差异：

1. **决策风格**：反应式（每轮决定下一步） vs 规划式（先计划再执行）
2. **流程约束**：自由探索（LLM 主导） vs 工作流/图（系统主导）
3. **任务跨度**：短任务（一次/几次工具调用） vs 长任务（可恢复、可观测、可中断续跑）
4. **知识依赖**：内置知识为主 vs 检索增强（RAG）为主
5. **协作形态**：单智能体 vs 多智能体分工（planner/executor/critic 等）

下面按“工程上最常见、最有用”的方式列出主要 agent types。

## 3. 反应式（Reactive）：ReAct 的位置

**定义**
- 每一轮只做一件事：基于当前上下文决定“下一步动作”，执行后观察结果，再继续下一轮。

**典型循环**

```mermaid
flowchart LR
  I[输入/目标] --> T[思考: 决定下一步]
  T --> A[行动: 工具调用/回复]
  A --> O[观察: 工具结果/反馈]
  O --> T
```

**代表范式**
- ReAct（Reason + Act）：用“推理 + 行动 + 观察”的方式推进任务。

**适用场景**
- 信息不完整、需要边探索边收敛的任务：排障、数据分析、调研、复杂代码修改等。

**优缺点**
- 优点：灵活，适应性强，容易接入工具；对不确定环境鲁棒。
- 缺点：可能绕路，成本不可控；如果缺少约束与观测，容易反复试错。

## 4. 规划式（Plan-and-Execute / Deliberative）：先计划后执行

**定义**
- 先产出一个相对完整的计划（步骤/依赖/验收），再按计划执行，并在必要时修正。

**适用场景**
- 目标清晰、步骤可预期、需要输出可审计计划的任务：项目搭建、迁移改造、文档生成流水线、批处理任务等。

**优缺点**
- 优点：结构化、可控、便于插入检查点（审批/验证/预算）。
- 缺点：计划可能基于错误假设；环境变化时需要频繁重规划。

## 5. 工作流/图编排（Workflow / Graph / State Machine）：系统驱动的 Agent

**定义**
- 用固定节点与分支（状态机/有向图）表达流程，LLM 只在少数节点做判断或填参数。

**适用场景**
- 强合规、强可控、流程确定：客服工单、审批流、数据同步、发布流程等。

**优缺点**
- 优点：可预测、可审计、易治理；失败边界清晰。
- 缺点：灵活度低；流程改动需要工程维护。

## 6. 工具型（Tool-First / Tool-Using）：把 LLM 当“调度器”

**定义**
- 重点不在“生成长文本”，而在“选择并正确调用工具”，将确定性工作交给工具完成。

**适用场景**
- 计算、查询、改文件、调用内部系统、跑脚本/测试等“确定性强”的任务。

**优缺点**
- 优点：可靠性与效率更高；结果更可验证。
- 缺点：工具契约设计成本高；权限与安全要求更高。

## 7. 检索增强（RAG-First）：以“外部知识”为中心

**定义**
- 主要步骤是检索、过滤、引用、综合，而不是凭模型内置知识回答。

**适用场景**
- 企业知识库问答、制度/流程查询、产品文档助手、代码库导读等。

**优缺点**
- 优点：事实性更强，可追溯；更适合私有知识。
- 缺点：检索质量决定上限；需要处理权限、过期信息与引用。

## 8. 反思/自校验（Reflect / Critic / Verifier）：带“质量控制”的 Agent

**定义**
- 在关键步骤前后增加校验回路：自检、对抗审查、单元测试、规则校验等。

**适用场景**
- 需要高准确率或高风险动作：代码改动、财务报表、合规文案、生产操作等。

**优缺点**
- 优点：显著提升稳定性与可控性；便于把“质量标准”产品化。
- 缺点：成本更高，延迟更大；需要定义清晰的验收规则。

## 9. 多智能体（Multi-Agent）：分工协作或相互制衡

**定义**
- 将任务拆成多个角色：规划者、执行者、检索者、审核者、谈判者等，通过消息协作完成目标。

**适用场景**
- 复杂项目、长链路研究、需要不同工具权限隔离的任务。

**优缺点**
- 优点：更强的分工与并行；能引入对抗减少错误。
- 缺点：系统复杂度与成本上升；容易出现“沟通回路”与角色重叠。

## 10. 长运行/事件驱动（Long-Running / Event-Driven）：像服务一样运行

**定义**
- Agent 不只是“问一次答一次”，而是持续监听事件（告警、消息、定时任务、队列），并在后台执行动作。

**适用场景**
- 运维告警处理、工单处理、自动化运营、持续监控与报告等。

**优缺点**
- 优点：真正进入生产自动化；可积累运行经验与指标。
- 缺点：需要完善的可观测、权限、限流、回滚与人工兜底。

## 11. 一张快速对比表（怎么选）

| 类型 | 关键词 | 最适合 | 主要风险 |
| --- | --- | --- | --- |
| 反应式（ReAct） | 边做边想 | 不确定、探索型任务 | 绕路、成本不可控 |
| 规划式（Plan&Execute） | 先计划 | 目标清晰、可审计 | 计划失真需重规划 |
| 工作流/图 | 强约束 | 合规流程、可预测任务 | 维护成本、灵活性低 |
| 工具型 | 调度工具 | 计算/查询/执行 | 权限与工具契约 |
| RAG-First | 以检索为主 | 私有知识问答 | 检索质量与引用 |
| 反思/校验 | 质量回路 | 高准确率/高风险 | 成本与延迟 |
| 多智能体 | 分工协作 | 复杂任务并行 | 系统复杂度 |
| 长运行/事件驱动 | 持续服务 | 监控/工单/自动化 | 治理与兜底 |

## 12. 结论：agent type 不是“互斥标签”，而是“组合配方”

实际系统里，agent type 往往是组合的：

- 用 **RAG-First** 提供事实底座
- 用 **Reactive（ReAct）** 组织多轮推进
- 用 **Tool-First** 执行确定性步骤
- 用 **Critic/Verifier** 在关键节点做校验
- 在高风险场景外层套一层 **Workflow + HITL**

当你说“ReAct 是一种反应式 agentType”时，核心含义就是：它强调每轮的动作选择与观察反馈的闭环推进，而不是预先固化完整流程。把 agent type 讲清楚，后面你再讨论“核心组件”或“技能（Skills）”时，就能更容易解释这些能力应该如何被组织与运行。
