import{_ as i,c as s,o as a,aj as l}from"./chunks/framework.K2WCgrB4.js";const y=JSON.parse('{"title":"合约","description":"","frontmatter":{"sidebar":"auto"},"headers":[],"relativePath":"web3/solidity-base/合约.md","filePath":"web3/solidity-base/合约.md"}'),e={name:"web3/solidity-base/合约.md"},n=l(`<h1 id="合约" tabindex="-1">合约 <a class="header-anchor" href="#合约" aria-label="Permalink to &quot;合约&quot;">​</a></h1><p>从最基本的开始入手：</p><p>Solidity的代码都包裹在<strong>合约</strong>里面，一份<code>合约</code>就是以太币应用的基本模块,所有的变量和函数都属于一份合约，它是你所有应用的起点。</p><p>一份名为 <code>HelloWorld</code> 的空合约如下:</p><div class="language-solidity vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">contract</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HelloWorld</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="版本指令" tabindex="-1">版本指令： <a class="header-anchor" href="#版本指令" aria-label="Permalink to &quot;版本指令：&quot;">​</a></h2><p>所有的 Solidity 源码都必须冠以 &quot;version pragma&quot; - 标明 Solidity 编译器的版本，以避免将来新的编译器可能会破坏你的代码。</p><p>例如：在 Solidity 代码中，<code>pragma solidity ^0.4.19;</code> 表示：</p><ul><li><code>pragma</code> 关键字表示这是一个编译器指令。</li><li><code>solidity</code> 关键字表示这是一个 Solidity 编译器指令。</li><li><code>^0.4.19</code> 表示编译器应该使用 0.4.19 版本或更高版本的 Solidity 编译器来编译代码。</li></ul><p><strong>具体来说，<code>^</code> 符号表示以下两种情况:</strong></p><ul><li>如果存在 0.4.19 版本或更高版本的 Solidity 编译器，则使用该版本编译器编译代码。</li><li>如果不存在 0.4.19 版本或更高版本的 Solidity 编译器，则使用最新版本的 Solidity 编译器编译代码。</li></ul><p>例如，如果当前安装的 Solidity 编译器版本为 <code>0.8.17</code>，则 <code>pragma solidity ^0.4.19;</code> 将使用 <code>0.8.17</code> 版本的 Solidity 编译器编译代码。</p><p><strong>以下是 <code>pragma solidity ^0.4.19;</code> 的一些常见用法:</strong></p><ul><li>在 Solidity 源文件的开头，指定编译器版本。</li><li>在 Solidity 库文件开头，指定编译器版本。</li><li>在 Solidity 智能合约开头，指定编译器版本。</li></ul><div class="warning custom-block"><p class="custom-block-title">WARNING</p><ul><li><code>pragma solidity ^0.4.19;</code> 仅表示编译器版本，不表示代码的兼容性。</li><li>如果需要确保代码与特定版本的 Solidity 编译器兼容，请使用 <code>pragma solidity 0.4.19;</code> 这样的精确版本号。</li><li>版本声明的末尾需要加上分号，这个千万要牢记。</li></ul></div><p>综上所述，下面就是一个最基本的合约 — 每次建立一个新项目时的第一段代码：</p><div class="language-solidity vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">pragma</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;"> solidity</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ^0.4.19</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">contract</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HelloWorld</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="实战练习" tabindex="-1">实战练习： <a class="header-anchor" href="#实战练习" aria-label="Permalink to &quot;实战练习：&quot;">​</a></h2><p>为了建立我们的僵尸部队，让我们先建立一个基础的合约，称之为 <code>ZombieFactory</code>.</p><ul><li>在右边的输入框里输入 0.4.19，我们的合约基于这个版本的编译器。</li><li>建立一个空合约 ZombieFactory。</li></ul><div class="language-solidity vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">pragma</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;"> solidity</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ^0.4.19</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">contract</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ZombieFactory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol><li><p><code>pragma solidity ^0.4.19;</code></p><ul><li>这是 Solidity 代码的声明部分,用于指定编译器的版本。</li><li><code>^0.4.19</code> 表示兼容 0.4.19 及其以上的 0.4.x 版本的编译器。</li></ul></li><li><p><code>contract ZombieFactory {}</code></p><ul><li>这是一个 Solidity 合约的定义。</li><li><code>ZombieFactory</code> 是这个合约的名称。</li><li>合约的主体部分用大括号 <code>{}</code> 包裹。</li></ul></li></ol><p>这段代码定义了一个名为 <code>ZombieFactory</code> 的 Solidity 智能合约,这是一个空的合约,没有任何功能。</p>`,23),t=[n];function o(p,d,r,c,h,k){return a(),s("div",null,t)}const u=i(e,[["render",o]]);export{y as __pageData,u as default};
